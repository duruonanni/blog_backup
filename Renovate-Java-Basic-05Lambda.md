---
title: JavaåŸºç¡€é‡ä¿®_05Lambdaè¡¨è¾¾å¼
date: 2018-01-17 17:21:25
update:
tags:
    - ç¬”è®°
    - Java
    - åŸºç¡€çŸ¥è¯†
    - Lambda
categories:
    - ç¬”è®°
    - Java
---

## å†™åœ¨ä¹‹å‰çš„è¯ 

ç¬¬ä¸€æ¬¡çŸ¥é“Lambdaè¡¨è¾¾å¼,æ˜¯çœ‹<é»‘å®¢ä¸ç”»å®¶>ä¸­,PaulæåŠ›æ¨å´‡çš„Lispè¯­è¨€å…·å¤‡çš„é‡è¦ç‰¹æ€§. 
å½“æ—¶æˆ‘è¿˜æ²¡å­¦ç¼–ç¨‹,åªæ˜¯å½“ç§‘æ™®ä¹¦ç±åœ¨çœ‹. 
è®°å¾—Paulæ›¾åœ¨ä¹¦ä¸­é¢„è¨€,Javaå°†ä¼šåœ¨æœªæ¥æä¾›å‡½æ•°å¼ç¼–ç¨‹çš„æ–¹æ³•. 
åœ¨æˆ‘å¼€å§‹å­¦ä¹ Javaæ—¶,çŸ¥é“Java8çš„æ–°ç‰¹æ€§ä¸­æä¾›äº†Lambdaè¡¨è¾¾å¼çš„æ¦‚å¿µ,å°±çŸ¥é“Paulçš„é¢„è¨€åº”éªŒäº†. 
å¯ä¹‹å‰ä¸€ç›´æ²¡æœ‰å­¦ä¹ è¿™é¡¹æ–°ç‰¹æ€§. 
æœ€è¿‘,é‡è¯»`<Java æ ¸å¿ƒæŠ€æœ¯>`,åˆ©ç”¨æ­¤æœºä¼šé‡å­¦ä¸‹Lambdaè¡¨è¾¾å¼,å¹¶å°†å­¦ä¹ è®°å½•æ•´ç†è‡³æ­¤æ–‡. 
å‘~æ­£æ–‡å¼€å§‹å•¦~ğŸ±â€ğŸ‘¤

## Lambdaè¡¨è¾¾å¼æ¦‚è¿° 

- Lambdaè¡¨è¾¾å¼æ˜¯Java8å¼•å…¥çš„ä¸€ä¸ªé‡è¦æ–°ç‰¹æ€§
- é€šè¿‡Lambdaè¡¨è¾¾å¼,å¯ä»¥ç›´æ¥ä¼ é€’ä»£ç å—
    - è¿™å¼•å…¥äº†å‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µ
    - ä¹‹å‰çš„Javaç‰ˆæœ¬ä¸­,éƒ½éœ€è¦ç»™ä»£ç å—å°è£…æˆç±»å†åˆ›å»ºå¯¹è±¡è°ƒç”¨
- Lambdaè¡¨è¾¾å¼çš„å¼•ç”¨ä½¿ç”¨æ¥å£æ¥æ”¶,ç§°ä¸º`å‡½æ•°å¼æ¥å£`
- Lambdaè¡¨è¾¾å¼çš„å‡ºç°,èƒ½è®©ä»£ç æ›´ç®€æ´æ˜“æ‡‚,ä¹Ÿæå‡äº†ä»£ç çš„å¯ç»´æŠ¤æ€§
    - å¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼,æ›¿ä»£å•ä¸€æ–¹æ³•çš„åŒ¿åå†…éƒ¨ç±»
    - å¯ä»¥ä½¿ç”¨`æ–¹æ³•å¼•ç”¨`çš„è¡¨è¾¾å¼,è®©ä»£ç æ›´ç®€æ´
- æ­¤å¤–,Lambdaè¡¨è¾¾å¼è¿˜å…·å¤‡å»¶è¿Ÿæ‰§è¡Œçš„ç‰¹ç‚¹
    - å°±æ˜¯åˆ›å»ºæ—¶ä¸æ‰§è¡Œ,è°ƒç”¨æ—¶æ‰æ‰§è¡Œ
- ç”±äºæ˜¯å…¨æ–°çš„æ¦‚å¿µ,æ‰€ä»¥å…¶è¯­æ³•ä¼šç¨æœ‰ç‰¹æ®Š,è¡¨è¾¾æ–¹å¼ä¹Ÿå¤šæ ·çµæ´»,ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„

### ç®€å•Lambdaè¡¨è¾¾å¼ç¤ºä¾‹ 

- é¦–å…ˆ,çœ‹ä¸€ä¸ªä¸ä½¿ç”¨Lambdaè¡¨è¾¾å¼çš„ä¾‹å­
- è¿™ä¸ªä¾‹å­ä¸­,æˆ‘ä»¬æƒ³è¦åœ¨mainæ–¹æ³•ä¸­,è°ƒç”¨æŸä¸ªæ¥å£çš„æ–¹æ³•å®ç°
    - é¦–å…ˆ,åˆ›å»ºæ¥å£SayHello
    - å…¶æ¬¡,åˆ›å»ºæ¥å£çš„å®ç°ç±»Student
    - å†åˆ›å»ºä¸€ä¸ªç”¨äºå®ç°è¯¥æ–¹æ³•çš„é™æ€æ–¹æ³•doWithSayHello
        - å®é™…å¯ä»¥çœç•¥æ­¤æ­¥éª¤,ç›´æ¥åœ¨mianä¸­åˆ›å»ºç±»çš„å®ä¾‹è°ƒç”¨æ¥å£æ–¹æ³•
        - ä½†æ˜¯,å¯¹åº”çš„Lambdaè¡¨è¾¾å¼ä¸­ä½¿ç”¨äº†è¿™ç§ä¸­é—´æ–¹å¼
        - ä¸ºäº†æ–¹ä¾¿å¯¹æ¯”,åœ¨æ­¤å¤„ä¹Ÿç”¨ä¸Šäº†
    - æœ€ååœ¨mainæ–¹æ³•ä¸­,åˆ›å»ºç±»çš„å®ä¾‹,è°ƒç”¨è¯¥æ–¹æ³•student 

```
public class WithoutLambda {

	public static void main(String[] args) {
		// æ­¥éª¤å››:åˆ›å»ºç±»çš„å®ä¾‹,ä¼ é€’åˆ°é™æ€æ–¹æ³•ä¸­,è°ƒç”¨æ¥å£çš„æ–¹æ³•
		Student student = new Student();
		doWithSayHello(student);
	}
	
	// æ­¥éª¤ä¸‰: åˆ›å»ºé™æ€æ–¹æ³•è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•
	public static void doWithSayHello(SayHello sh) {
		sh.sayHello("Killua");
	}

}

// æ­¥éª¤ä¸€:åˆ›å»ºæ¥å£
interface SayHello {
	void sayHello(String name);
}

// æ­¥éª¤äºŒ:åˆ›å»ºæ¥å£çš„å®ç°ç±»,å¹¶åœ¨ç±»ä¸­é‡å†™æ¥å£æ–¹æ³•
class Student implements SayHello {
	@Override
	public void sayHello(String name) {
		System.out.println(name + " say Hello World");
	}	
}
```
- ç°åœ¨,æƒ³æƒ³çœ‹,ä¸Šé¢çš„ä»£ç ,æ˜¯ä¸æ˜¯æ˜¾å¾—æœ‰ç‚¹æ­¥éª¤è¿‡å¤š,æˆ‘ä»¬åªæ˜¯æƒ³è¦å®ç°ä¸€ä¸ªæ¥å£çš„æ–¹æ³•è€Œå·²å‘€
- ç°åœ¨ç›´æ¥çœ‹ä½¿ç”¨Lambdaè¡¨è¾¾å¼å,è¿™ä¸ªé—®é¢˜å¦‚ä½•è§£å†³
- æ³¨æ„
    - ä½¿ç”¨Lambdaè¡¨è¾¾å¼,æˆ‘ä»¬çœç•¥äº†åˆ›å»ºæ¥å£å®ç°ç±»çš„æ­¥éª¤
    - ç¤ºä¾‹ä¸­,Lambdaè¡¨è¾¾å¼2æ˜¯lambdaè¡¨è¾¾å¼1çš„ç®€å†™(åŒ¿å)å½¢å¼

```
public class WithLambda {

	public static void main(String[] args) {
		// Lambdaè¡¨è¾¾å¼1
			// å®šä¹‰äº†ä¸€ä¸ªLambdaè¡¨è¾¾å¼å¯¹è±¡sayHello2
			// =åé¢æ˜¯æ¥å£æ–¹æ³•çš„å®ç°
			// å…·ä½“è¯­æ³•åé¢ä¼šè®²
		SayHello sayHello2 = (name)->{
			System.out.println(name + "say Hello");
		};
			// ç›´æ¥ä¼ é€’Lambdaè¡¨è¾¾å¼å¯¹è±¡sayHello2,åˆ°æ–¹æ³•ä¸­
			// çœå»äº†å®šä¹‰ç±»å†å®ç°æ¥å£çš„å·¥ä½œ
		doWithSayHello(sayHello2);
		
		// Lambdaè¡¨è¾¾å¼2
			// Lambdaè¡¨è¾¾å¼1çš„åŒ¿åç®€å†™æ–¹æ³•
			// æ³¨æ„å„ç§æ‹¬å·å’Œåˆ†å·
		doWithSayHello((name)->{
			System.out.println(name + "sayHello");
		});
	}
	
	static void doWithSayHello(SayHello sh) {
		sh.sayHello("Killua");
	}
	
}

@FunctionalInterface
interface SayHello {
	void sayHello(String name);
}
```

## lambudaè¡¨è¾¾å¼è¯­æ³• 

- ç”±ä»¥ä¸Šç¤ºä¾‹å¯çŸ¥,Lambdaè¡¨è¾¾å¼,å°±æ˜¯ç›´æ¥ä¼ é€’ä¸€æ®µä»£ç 
- å¯ä»¥è°ƒç”¨æ–¹æ³•æ‰§è¡Œè¯¥ä»£ç ,ä¹Ÿå¯ä»¥ä¼ å…¥æŸä¸ªå¯¹è±¡ä¸­å»
    - Lambdaè¡¨è¾¾å¼å¯¹è±¡ç”¨æ¥å£å»æ¥æ”¶
    - è¿™å°±å«å‡½æ•°å¼æ¥å£ 

### å‡½æ•°å¼æ¥å£çš„å®šä¹‰ 

- å¥½äº†,è¿™é‡Œè¦å¼•å…¥ä¸€ä¸ªæ–°æ¦‚å¿µ: å‡½æ•°å¼æ¥å£
- å‡½æ•°å¼æ¥å£ä½œç”¨:
    - å¯ä»¥ç”¨äºæ¥æ”¶Lambdaè¡¨è¾¾å¼çš„å¯¹è±¡
    - æ–¹ä¾¿éšæ—¶è°ƒç”¨Lambdaè¡¨è¾¾å¼ä¸­çš„æ–¹æ³•
- å‡½æ•°å¼æ¥å£è¦æ±‚:
    - å†…éƒ¨åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•
- æ³¨æ„äº‹é¡¹:
    - å‡½æ•°å¼æ¥å£,å¯ä»¥æœ‰: [é»˜è®¤æ–¹æ³•(Default methods)](#anchor1)
    - å‡½æ•°å¼æ¥å£,å¯ä»¥æœ‰: [é™æ€æ–¹æ³•`(Static methods)](#anchor1)
    - å‡½æ•°å¼æ¥å£,å¯ä»¥æœ‰:Objectç±»çš„å…¬æœ‰æ–¹æ³•
        - `toString`
        - `hashCode`...
    - å‡½æ•°å¼æ¥å£,è¯·ä½¿ç”¨æ³¨è§£æ ‡è¯†æ¸…æ¥š:
        - `@FunctionalInterface`
- å‡½æ•°å¼æ¥å£ç¤ºä¾‹: 

```
@FunctionalInterface
interface MyFunctionalInterface{
    // å‡½æ•°å¼æ¥å£
    void func();
    
    // Objectç±»çš„å…¬æœ‰æ–¹æ³•
    int hashCode();
    String toString();
    boolean equals(Object obj);
    
    // æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•
    default void defaultMethod() {
        System.out.println("Java8 æ–°ç‰¹æ€§,é»˜è®¤æ–¹æ³•æ˜¯ä¹Ÿ");
    }
    
    // æ¥å£ä¸­çš„é™æ€æ–¹æ³•
    static void staticMethod() {
        System.out.println("Java8 æ–°ç‰¹æ€§,é™æ€æ–¹æ³•æ˜¯ä¹Ÿ");
    }
}
```

### è¡¥å……çŸ¥è¯†ç‚¹: <span id="anchor1">æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•</span> 

- `é»˜è®¤æ–¹æ³•`(Default methods)å’Œ`é™æ€æ–¹æ³•`(Static methods)éƒ½æ˜¯Java8çš„æ–°ç‰¹æ€§
- é»˜è®¤æ–¹æ³•,ç‰¹ç‚¹:
    - ä½¿ç”¨`default`å…³é”®å­—å£°æ˜æ–¹æ³•
    - å…·å¤‡æ–¹æ³•ä½“
    - åªèƒ½é€šè¿‡å…¶å®ç°ç±»è°ƒç”¨,å®ç°ç±»é»˜è®¤æ‹¥æœ‰æ­¤æ–¹æ³•,è¿™æ„å‘³ç€:
        - å®ç°ç±»å¯ä»¥ä¸å®ç°è¿™ä¸ªæ–¹æ³•,è°ƒç”¨ç±»æ—¶ç›´æ¥è°ƒç”¨æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•
        - å¦‚æœå®ç°ç±»é‡å†™äº†è¿™ä¸ªæ–¹æ³•,åŸé»˜è®¤æ–¹æ³•å¤±æ•ˆ("ç±»ä¼˜å…ˆ"è§„åˆ™)
- é™æ€æ–¹æ³•,ç‰¹ç‚¹:
    - ä½¿ç”¨`static`å…³é”®å­—å®šä¹‰æ–¹æ³•
    - å…·å¤‡é™æ€æ–¹æ³•çš„æ¥å£å¯ä»¥ä¸é€šè¿‡å®ç°ç±»,è€Œç›´æ¥ç”¨æ¥å£åè°ƒç”¨
    - é™æ€æ–¹æ³•å¯ä»¥**é€šè¿‡æ¥å£åç›´æ¥è°ƒç”¨**,ä¹Ÿå¯ä»¥åœ¨æ¥å£è¢«ç±»å®ç°å,ç”±ç±»åè°ƒç”¨
    - é™æ€æ–¹æ³•åˆè¡·æ˜¯ç®€åŒ–æŸäº›å·¥å…·ç±»(å·¥å…·ç±»é‡Œé¢å¤šæ˜¯é™æ€æ–¹æ³•)å¯¹æ¥å£çš„å®ç°,ç›´æ¥ä½¿ç”¨å¸¦é™æ€æ–¹æ³•çš„æ¥å£å……å½“å·¥å…·ç±»
    - é™æ€æ–¹æ³•çš„å‡ºç°æ¨¡ç³Šäº†æ¥å£å’Œç±»çš„ç•Œé™,ä¸ªäººä¸å¤ªå»ºè®®ä½¿ç”¨
- `é»˜è®¤æ–¹æ³•`å’Œ`é™æ€æ–¹æ³•`ç›¸å¯¹è¾ƒç®€å•,å°±ä¸å•ç‹¬å†™ä¾‹å­äº† 

### å‡½æ•°å¼æ¥å£çš„å®ç°

#### Lambdaè¡¨è¾¾å¼1çš„è¯¦è§£
```
SayHello sayHello2 = (name)->{
    System.out.println(name + "say Hello");
};
```
- `SayHello sayHello2` 
    - åˆ›å»ºä¸€ä¸ªLambdaè¡¨è¾¾å¼å¯¹è±¡
    - ä¹Ÿå°±æ˜¯ä½¿ç”¨å‡½æ•°å¼æ¥å£çš„å¯¹è±¡,æ¥æ”¶Lambdaè¡¨è¾¾å¼çš„å€¼
- `=`
    - å°†ç­‰å·å³è¾¹çš„æ‰§è¡Œç»“æœèµ‹å€¼ç»™å·¦è¾¹
- `(...)->{ ... };`
    - è¿™ä¸ªå°±æ˜¯å‡½æ•°å¼æ¥å£å®ç°çš„å®Œå…¨ä½“
    1. `(...)` : æ–¹æ³•ç­¾å
        - ç”¨äºä¼ é€’æ¥å£ä¸­çš„å½¢å¼å‚æ•°
        - å‚æ•°ä¸å†™ç±»å‹,å…·å¤‡ç±»å‹æ¨æ–­çš„åŠŸèƒ½
            - ä¸ä½¿ç”¨æ³›å‹,å°±åœ¨å®šä¹‰æ¥å£æ–¹æ³•æ—¶ç¡®å®šç±»å‹
            - ä½¿ç”¨æ³›å‹çš„è¯,å°±åœ¨å®ç°æ—¶ç¡®å®šç±»å‹å’¯
        - æ²¡æœ‰å‚æ•°,å°±å†™ä¸ªç©º`()`,ä¸å¯çœç•¥
        - æœ‰å‚æ•°,å¯ä»¥çœç•¥`()`
    2. `->` : ç®­å¤´
    3. `{ ... };` : æ–¹æ³•çš„å®ç°(æ–¹æ³•ä½“)
        - å°±æ˜¯è¦æ‰§è¡Œçš„å‡½æ•°
        - å¦‚æœæ‰§è¡Œè¯­å¥æ˜¯ä¸€å¥è¯,å¯ä»¥ç›´æ¥å†™åœ¨`->`åé¢,ä¸ç”¨åŠ `{}`
        - æ³¨æ„ç»“å°¾åˆ†å·ä¸å¯å°‘`;` 

#### Lambdaè¡¨è¾¾å¼2çš„è¯¦è§£ 

```
doWithSayHello((name)->{
    System.out.println(name + "sayHello");
});
```
- è¿™ä¸ªå°±ç›¸å½“äºä¸€ä¸ªåŒ¿åçš„Lambdaè¡¨è¾¾å¼
- ä¸åˆ›å»ºLambdaè¡¨è¾¾å¼å¯¹è±¡,ç›´æ¥æ‰§è¡ŒdoWithSayHelloæ–¹æ³•çš„å®ç°
- è¯­æ³•ç±»ä¼¼åŒ¿åå†…éƒ¨ç±»
- æ³¨æ„æ‰§è¡Œå®Œæˆåçš„åˆ†å·`;` 

### Lambdaè¡¨è¾¾å¼æ³¨æ„äº‹é¡¹: 

#### Lambdaè¡¨è¾¾å¼è®¿é—®å¤–éƒ¨å˜é‡ 

- Lambdaè¡¨è¾¾å¼æ–¹æ³•ä½“ä¸­,ä¹Ÿèƒ½è®¿é—®å¤–éƒ¨çš„å˜é‡
    - åŒ…æ‹¬å…¶æ‰€åœ¨æ–¹æ³•å†…çš„å±€éƒ¨å˜é‡
    - ä¹ŸåŒ…æ‹¬ç±»ä¸­`final`ä¿®é¥°çš„æˆå‘˜å˜é‡
    - å°±å’Œå†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ä¿¡æ¯ä¸€æ ·
- å› ä¸ºå¯ä»¥è®¿é—®å¤–éƒ¨å˜é‡,å°±è¦æ³¨æ„æ–¹æ³•ç­¾åä¸­çš„å˜é‡åå’Œå¤–éƒ¨å˜é‡çš„é‡åé—®é¢˜äº†
    - å½¢å‚åå­—ä¸èƒ½å’Œå¤–éƒ¨å˜é‡åä¸€æ ·,ç¼–è¯‘ä¼šæ— æ³•é€šè¿‡ 
- å˜é‡è¦å®šä¹‰åœ¨Lambdaè¡¨è¾¾å¼å®ç°ä¹‹å‰,å› ä¸ºä»£ç é¡ºåºæ‰§è¡Œ,æ”¾åœ¨åé¢è°ƒç”¨ä¸åˆ° 

#### Lambdaè¡¨è¾¾å¼ä¸­ä½¿ç”¨thiså’Œsuperå…³é”®å­— 

- Lambdaè¡¨è¾¾å¼ä¸­,ä½¿ç”¨thiså…³é”®å­—,æ˜¯æŒ‡æœ¬ç±»çš„å¼•ç”¨(è¿™ä¸ªæ–¹æ³•æ‰€åœ¨ç±»çš„å¼•ç”¨)
    - `super`å…³é”®å­—,å°±æ˜¯æœ¬ç±»çš„è¶…ç±»çš„å¼•ç”¨å’¯
- æ³¨æ„: 
    - é™æ€æ–¹æ³•ä¸­æ— æ³•ä½¿ç”¨`this`å…³é”®å­—

### è¡¥å……çŸ¥è¯†ç‚¹: effectively finalå˜é‡ 

- åœ¨Java8ä¸­,æ–°æ·»åŠ äº†ä¸€ä¸ª`effective final å˜é‡`çš„æ¦‚å¿µ,å…·ä½“æ˜¯è¯´:
    - å®šä¹‰å˜é‡æ—¶,ä¸éœ€è¦äººä¸ºæ·»åŠ `final`å˜é‡,ç³»ç»Ÿä¼šé»˜è®¤è¯†åˆ«
        - æ‰€ä»¥,æœ‰äº›lambdaè¡¨è¾¾å¼ä¸­è°ƒç”¨çš„å¤–éƒ¨å˜é‡,æ²¡æœ‰å®šä¹‰ä¸º`fianl`çš„,ä¹Ÿä¸æŠ¥é”™
- ä¸ªäººè®¤ä¸ºè¿™ä¸ªä¸é€‚åˆæ–°æ‰‹
    - ä¸æ˜¾ç¤ºçš„å®šä¹‰å‡ºæ¥,ç¨‹åºå‘˜æœ‰æ—¶å€™æ„è¯†ä¸åˆ°,åœ¨è¡¨è¾¾å¼å†…éƒ¨å¯¹å˜é‡é‡æ–°èµ‹å€¼,å°±ä¼šæŠ¥é”™
    - åæ­£ä½¿ç”¨æ—¶éœ€è¦ç‰¢è®°,ä¸èƒ½æ”¹å˜å¤–éƒ¨å˜é‡çš„å€¼

## Lambdaè¡¨è¾¾å¼å’ŒåŒ¿åå†…éƒ¨ç±» 

- é™¤äº†è‡ªå®šä¹‰Lambdaè¡¨è¾¾å¼å¤–,Java8ä¹‹åçš„å¾ˆå¤šæ¥å£ä¹Ÿå®ç°äº†å‡½æ•°å¼æ¥å£
    - å¦‚,ç”¨äºæ’åºå¯¹æ¯”çš„`Comparator`æ¥å£
        - å®ƒåªæœ‰ä¸€ä¸ª`compare`æ–¹æ³•
- ä»¥ä¸‹ç¤ºä¾‹ç”¨äºå¯¹æ¯”Lambdaè¡¨è¾¾å¼å’ŒåŒ¿åå†…éƒ¨ç±» 

```
public class LambdaTest1 {

	public static void main(String[] args) {
		List<String> list = getList();
		
		System.out.println("ä½¿ç”¨Lambdaè¡¨è¾¾å¼è¿›è¡Œæ’åº: ");
		// ä½¿ç”¨Lambdaè¡¨è¾¾å¼è¿›è¡Œæ’åº
		lambdaSort(list);
		// æ³¨æ„: ä¸èƒ½åœ¨mainæ–¹æ³•ä¸­ç›´æ¥å¦‚ä¸‹ä½¿ç”¨,å› ä¸ºç¼–è¯‘å™¨æ— æ³•è·å–æ–¹æ³•å‚æ•°çš„ç±»å‹
			// å¦‚æœæ˜¯éæ³›å‹æ–¹æ³•,å¯ä»¥ç›´æ¥ä½¿ç”¨,ä¸å¿…ä¼ å…¥æ–¹æ³•ä¸­
		//	Collections.sort(list, (str1,str2)->str1.compareToIgnoreCase(str2););
		for (String str : list) {
			System.out.print(str + " ");
		}
		
		System.out.println();
		System.out.println("ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»è¿›è¡Œæ’åº: ");
		Collections.sort(list, new Comparator<String>() {
			@Override
			public int compare(String o1, String o2) {
				return o2.compareToIgnoreCase(o1);
			}
		});
		for (String str : list) {
			System.out.print(str + " ");
		}
		
	}
	
	// åˆ›å»ºä¸€ä¸ªä¼ é€’æ–¹æ³•,ç”¨äºå®ç°Lambdaè¡¨è¾¾å¼
	static void lambdaSort(List<String> strs) {
		Collections.sort(strs, (str1,str2)->str1.compareToIgnoreCase(str2));
	}
	
	// åˆå§‹åŒ–Listæ–¹æ³•
	static ArrayList<String> getList() {
		String str = "when suddenly a White Rabbit with pink eyes ran close by her";
		String[] strArray = str.split(" ");
		ArrayList<String> list = new ArrayList<>();
		for (String s : strArray) {
			list.add(s);
		}
		return list;
	}

}
```
### Lambdaè¡¨è¾¾å¼å’ŒåŒ¿åå†…éƒ¨ç±»å¯¹æ¯”è¯´æ˜ 

1. åŒ¿åå†…éƒ¨ç±»éœ€è¦å†™ç±»åå’Œæ–¹æ³•å,æ˜¾å¾—æ›´å¤æ‚
    - å¦‚æœç”¨ä¸Šåé¢ä¼šè®²çš„æ–¹æ³•å¼•ç”¨,Lambdaè¡¨è¾¾å¼è¿˜å¯ä»¥æ›´ç®€æ´
2. Lambdaè¡¨è¾¾å¼å®ç°çš„æ–¹æ³•å¦‚æœå¸¦æ³›å‹,å¿…é¡»å°†æ–¹æ³•çš„å®ç°ä¼ é€’ç»™ä¸€ä¸ªä¸­é—´æ–¹æ³•
    - ç¤ºä¾‹ä¸­ä¸­é—´æ–¹æ³•ä¸º: lambdaSort
    - ä½œç”¨æ˜¯è¯´æ˜æ³›å‹å‚æ•°çš„å®é™…ç±»å‹
    - æ–¹æ³•ä¸å¸¦æ³›å‹å¯ä»¥ä¸ä½¿ç”¨ä¸­é—´æ–¹æ³•
3. åŒ¿åå†…éƒ¨ç±»ç›¸æ¯”Lambdaè¡¨è¾¾å¼çš„ä¼˜åŠ¿æ˜¯,å¯ä»¥å®ç°å¤šä¸ªæ–¹æ³•

## æ–¹æ³•å¼•ç”¨

### æ–¹æ³•å¼•ç”¨æ¦‚è¿° 

- æ–¹æ³•å¼•ç”¨,å®é™…ä¸Šæ˜¯æŠŠæ–¹æ³•åå­—ç›´æ¥ä¼ ç»™ä¸€ä¸ªå‡½æ•°å‹æ¥å£å˜é‡
    - å°±æ˜¯çœç•¥äº†å‚æ•°,å› ä¸ºéƒ½çŸ¥é“å‚æ•°ä¼ åœ¨å“ªä¸ªåœ°æ–¹ç”¨
- å¯ä»¥çœ‹ä½œæ˜¯Lambdaè¡¨è¾¾å¼çš„ç®€å†™
    - æ–¹æ³•å¼•ç”¨ç®€æ´,æ ¼å¼ä¼˜é›…åˆæ–¹ä¾¿ç†è§£
    - æœ‰ä¸€ç§è¯´æ³•æ˜¯,å¥½çš„Lambdaè¡¨è¾¾å¼,æ–¹æ³•ä½“éƒ½åªç”¨ä¸€å¥è¯
    - æ‰€ä»¥,èƒ½ä½¿ç”¨æ–¹æ³•å¼•ç”¨æ—¶,è¯·å°½é‡ä½¿ç”¨æ–¹æ³•å¼•ç”¨
- è¯­æ³•:
    - `å¯¹è±¡åæˆ–ç±»å::æ–¹æ³•å`
- æ–¹æ³•å¼•ç”¨å¯ä»¥åœ¨ä»¥ä¸‹ä¸‰ç§æƒ…å†µä½¿ç”¨:
    1. `object::instanceMethod`
    2. `Class::instanceMethod`
    3. `Class::staticMethod`
- æ–¹æ³•å¼•ç”¨ç¤ºä¾‹1: 
    - ç¤ºä¾‹å–ä¹‹å‰ä»£ç åšæ¯”è¾ƒ 

```
static void lambdaSort(List<String> strs) {
    Collections.sort(strs, (str1,str2)->str1.compareToIgnoreCase(str2));
    // ä¸‹é¢çš„æ˜¯æ–¹æ³•å¼•ç”¨çš„å†™æ³•
    //Collections.sort(strs, String::compareToIgnoreCase);
}
```
- æ–¹æ³•å¼•ç”¨ç¤ºä¾‹2:
    - lambdaè¡¨è¾¾å¼æ–¹æ³•: `x -> System.out.println(x)`
    - æ–¹æ³•å¼•ç”¨: `System.out::println`
- æ–¹æ³•å¼•ç”¨ç¤ºä¾‹3:
    - lambdaè¡¨è¾¾å¼æ–¹æ³•: `x,y -> Math.pow(x,y)`
    - æ–¹æ³•å¼•ç”¨: `Math::pow`
- æ³¨æ„:
    - ä½¿ç”¨æ–¹æ³•å¼•ç”¨,ä¼ å…¥çš„å€¼ä¸ºä¸¤ä¸ªä»¥ä¸Šæ—¶
    - å®ç°è¯¥æ–¹æ³•æ—¶,ä¼ å…¥å€¼çš„é¡ºåº,å¯¹åº”æ–¹æ³•ä¸­å½¢å‚çš„é¡ºåº 

## å¸¸ç”¨å‡½æ•°å¼æ¥å£

### å¸¸ç”¨å‡½æ•°å¼æ¥å£æ¦‚è¿°: 

- Java8ä¸­,åœ¨`Java.util.function`ä¸­,å¸®æˆ‘ä»¬å®šä¹‰äº†å¾ˆå¤šå‡½æ•°å¼æ¥å£;
    - å…·ä½“ä¿¡æ¯,å‚è§[Java8 API][1]
- ä»¥ä¸‹åˆ—å‡ºå‡ ä¸ªè¾ƒå¸¸ç”¨çš„å‡½æ•°å¼æ¥å£,å¹¶ä¸¾ä¾‹è¯´æ˜å…¶ç”¨æ³• 
    - è¿™äº›å‡½æ•°å¼æ¥å£,è‡ªå·±ä¹Ÿå¯ä»¥å†™,ä½†æ˜¯APIæä¾›äº†,è€Œä¸”æœ‰äº›é›†æˆåœ¨äº†ä¸€äº›æ–¹æ³•é‡Œé¢,ç”¨èµ·æ¥å°±å¾ˆæ–¹ä¾¿

### Consumer<T>æ¥å£ 

#### Consumer<T>æ¥å£æ¦‚è¿°: 

- æ¥å£å : Consumer<T>
- å‚æ•°ç±»å‹ : T
- è¿”å›å€¼ç±»å‹ : void
- æŠ½è±¡æ–¹æ³•å : accept
- æ–¹æ³•æè¿° : å¤„ç†ä¸€ä¸ªTç±»å‹çš„å€¼
- å…¶ä»–æ–¹æ³• : andThen
- è¡¥å……çŸ¥è¯†ç‚¹ : 
    - æä¾›äº†ä¸€ä¸ªå¯¹åº”çš„éæ³›å‹æ¥å£: `IntConsumer`,å‚æ•°ä¸ºintç±»å‹æ—¶å»ºè®®ä½¿ç”¨,å‡å°‘æ‰§è¡Œæ—¶çš„æ‹†è£…ç®±
    - æä¾›äº†å¤„ç†ä¸¤ç§ç±»å‹å‚æ•°çš„æ¥å£: `BiConsumer<T,U>`

#### Consumer<T>æ¥å£ç¤ºä¾‹: 

- Java8ä¸­çš„iterable<T>æ¥å£,å®ƒæä¾›äº†ä¸€ä¸ªforEach()æ–¹æ³•,å¯ä»¥æ¥æ”¶ä¸€ä¸ªConsumer<T>æ¥å£å¯¹è±¡
    - æ‰€ä»¥,æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªforEach()ä¸­,ç›´æ¥ä¼ å…¥ä¸€ä¸ªLambdaè¡¨è¾¾å¼,ç”¨ä¸€å¥è¯å®Œæˆå¾ªç¯æ‰“å°çš„è¦æ±‚

    <div align="center">![java_basic05_Lambda01][2]</div>
- ä¸‹é¢ç¤ºä¾‹å¯¹æ¯”ä¸¤ç§ä¼ ç»ŸforEachå’Œé‡è½½åçš„forEach
```
List<String> strs = new ArrayList<>();
strs.add("AAA");
strs.add("bbb");
strs.add("ccc");

// ä¼ ç»Ÿforeachå¾ªç¯æ‰“å°å†™æ³•
for (String str : strs) {
    System.out.println(str);
}

// ä½¿ç”¨ç»§æ‰¿è‡ªiterableæ¥å£çš„forEachæ–¹æ³•,ä¼ é€’ä¸€ä¸ªConsumer<T>å‡½æ•°å¼æ¥å£çš„Lambdaè¡¨è¾¾å¼,æ›´ç®€å•
strs.forEach(str-> System.out.println(str));
// ä½¿ç”¨æ–¹æ³•å¼•ç”¨å†™æ³•,æ›´ç®€å•
// strs.forEach(System.out::println);
```

### Predicate<T>æ¥å£ 

#### Predicate<T>æ¥å£æ¦‚è¿°: 

- æ¥å£å : Predicate<T>
- å‚æ•°ç±»å‹ : T
- è¿”å›å€¼ç±»å‹ : boolean
- æŠ½è±¡æ–¹æ³•å : test
- æ–¹æ³•æè¿° : å¤„ç†Tç±»å‹å‚æ•°,è¿”å›booleanå€¼
- å…¶ä»–æ–¹æ³• : and,or,negate,isEquals
- è¡¥å……çŸ¥è¯†ç‚¹ : 
    - æä¾›äº†ä¸€ä¸ªå¯¹åº”çš„éæ³›å‹æ¥å£: `IntPredicate`,å‚æ•°ä¸ºintç±»å‹æ—¶å»ºè®®ä½¿ç”¨,å‡å°‘æ‰§è¡Œæ—¶çš„æ‹†è£…ç®± 
    - æä¾›äº†å¤„ç†ä¸¤ç§ç±»å‹å‚æ•°çš„æ¥å£: `BiPredicate<T,U> `

#### Predicate<T>æ¥å£ç¤ºä¾‹: 

- Predicateæ¥å£å¸¸ç”¨äºä¸ºé›†åˆå¯¹è±¡æ‰§è¡Œç­›é€‰æ¡ä»¶
    - è¿™æ¬¡ç¤ºä¾‹,ä½¿ç”¨`BiPredicate<T,U>`æ¥å£
    - ç¤ºä¾‹ä½œç”¨æ˜¯,æ ¹æ®å¹´é¾„ç­›é€‰å‡ºåˆ—è¡¨ä¸­çš„äºº 

```
public static void main(String[] args) {
    List<Person> people = new ArrayList<>();
    people.add(new Person("Killua",11));
    people.add(new Person("Netero",110));
    people.add(new Person("alluka",10));
    people.add(new Person("Zeno",67));

    usingLambda(people);

    NotUsingLambda(people);
}

// ä½¿ç”¨äº†Lambdaè¡¨è¾¾å¼çš„æ–¹æ³•
private static void usingLambda(List<Person> people) {
    BiPredicate<Person, Integer> judgeByAge = (p, i)->p.getAge()>i;

    people.forEach(person -> {
        if(judgeByAge.test(person,60))
            System.out.println(person.getName() + ": is a old man");
        else
            System.out.println(person.getName() + ": is a young man");
    });
}

// æœªä½¿ç”¨lambdaè¡¨è¾¾å¼çš„æ–¹æ³•
private static void NotUsingLambda(List<Person> people) {
    BiPredicate<Person, Integer> judgeByAge = new BiPredicate<Person, Integer>() {
    @Override
    public boolean test(Person person, Integer i) {
        if (person.getAge()>i)
            return true;
        else
            return false;
    }
};

    for (Person person : people) {
        if(judgeByAge.test(person,60))
            System.out.println(person.getName() + ": is a old man");
        else
            System.out.println(person.getName() + ": is a young man");
    }
}
```

### Function<T,R>æ¥å£ 

#### Function<T,R>æ¥å£æ¦‚è¿°: 

- æ¥å£å : Function<T,R>
- å‚æ•°ç±»å‹ : T
- è¿”å›å€¼ç±»å‹ : R
- æŠ½è±¡æ–¹æ³•å : apply
- æ–¹æ³•æè¿° : å¤„ç†Tç±»å‹å‚æ•°,è¿”å›Rç±»å‹å‚æ•°
- å…¶ä»–æ–¹æ³• : compose,andThen,identity
- è¡¥å……çŸ¥è¯†ç‚¹ : 
    - æä¾›äº†ä¸€ä¸ªå¯¹åº”çš„éæ³›å‹æ¥å£: `IntFunction`,å‚æ•°ä¸ºintç±»å‹æ—¶å»ºè®®ä½¿ç”¨,å‡å°‘æ‰§è¡Œæ—¶çš„æ‹†è£…ç®± 
    - æä¾›äº†å¤„ç†ä¸¤ç§ç±»å‹å‚æ•°çš„æ¥å£: `BiPredicate<T,U,R>`,è¡¨ç¤ºä¼ å…¥å‚æ•°æ˜¯T,å’ŒUç±»å‹,è¿”å›å€¼Rç±»å‹ 

#### Function<T,R>æ¥å£ç¤ºä¾‹: 

- ç¤ºä¾‹è¯´æ˜:
    - ç¤ºä¾‹æ˜¯,ä¼ å…¥ä¸€å¥è¯,ç®—å‡ºé‡Œé¢å¤šå°‘ä¸ªå•è¯ 

```
String test = "This is a word-count test";
Function<String,Integer> wordCount =
        s -> s.split(" ").length;
System.out.println(wordCount.apply(test));
```

è‡³æ­¤,å®Œ...... 
> 
*RIP Dolores O`Riordan* 

<div align="center">![Wake Up And Smell The Coffee][3]</div>

<!-- å‚è€ƒæ–‡çŒ® -->
[1]: https://docs.oracle.com/javase/8/docs/api/ "Java8 API"
[2]: http://storage.live.com/items/AEE68C12565C1619!203841:/java_basic05_Lambda01.png?authkey=AJoh90nl3u6Wj4U
[3]: http://storage.live.com/items/AEE68C12565C1619!203843?authkey=AJoh90nl3u6Wj4U

